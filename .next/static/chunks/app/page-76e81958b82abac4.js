(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3226:function(e,t,s){Promise.resolve().then(s.bind(s,3174))},3174:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var l=s(7437),r=s(2265),a=s(3464);function n(e){let{videoUrl:t}=e,s="/api/video/download?url=".concat(encodeURIComponent(t)),[a,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),c=async e=>{if(a){e.preventDefault();return}n(!0),o(null);try{window.open(s,"_blank"),setTimeout(()=>{n(!1)},2e3)}catch(e){console.error("下载出错:",e),o("下载视频时出错，请稍后再试"),n(!1)}};return(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("div",{className:"alert alert-success mb-4 flex items-center gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("div",{className:"flex flex-wrap items-center gap-x-3",children:(0,l.jsx)("span",{children:"解析成功！"})})]}),i&&(0,l.jsxs)("div",{className:"alert alert-error mb-4 flex items-center gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{children:i})]}),(0,l.jsxs)("div",{className:"tech-card mb-2 overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-50"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-50"}),(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)("video",{src:t,controls:!0,className:"w-full max-h-[400px] rounded bg-black",children:"您的浏览器不支持视频播放"})})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-4 mt-4",children:[(0,l.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"bg-slate-800/80 border border-blue-500/30 hover:border-blue-400/60 text-white px-4 py-2.5 rounded-md flex-1 text-center transition-all duration-200 flex items-center justify-center gap-2 shadow-lg hover:shadow-blue-500/10",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),(0,l.jsx)("span",{children:"在新窗口打开"})]}),(0,l.jsx)("a",{href:a?"#":s,className:"".concat(a?"bg-slate-700/80 cursor-not-allowed border-slate-600/40":"bg-blue-600/90 hover:bg-blue-500/90 border-blue-500/50 hover:border-blue-400/60"," transition-all duration-200 text-white px-4 py-2.5 rounded-md flex-1 text-center border shadow-lg flex items-center justify-center gap-2"),onClick:c,download:a?void 0:"douyin_video.mp4",children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:"下载中..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,l.jsx)("span",{children:"下载视频"})]})})]})]})}function i(){let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[d,x]=(0,r.useState)(null),h=async t=>{if(t.preventDefault(),!e.trim()){c("请输入视频链接");return}i(!0),c(""),x(null);try{let t=await a.Z.post("/api/video/analyze",{url:e});t.data.success?x(t.data.data):c(t.data.message||"解析失败")}catch(e){var s,l;console.error("解析错误:",e),c((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"解析请求失败，请稍后再试")}finally{i(!1)}};return(0,l.jsx)("div",{className:"max-w-4xl mx-auto p-4 relative z-10",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-blue-500/10 rounded-full filter blur-3xl"}),(0,l.jsx)("div",{className:"absolute -bottom-20 -right-20 w-40 h-40 bg-purple-500/10 rounded-full filter blur-3xl"}),(0,l.jsxs)("div",{className:"text-center mb-12 relative",children:[(0,l.jsxs)("h1",{className:"text-4xl font-bold mb-3 tech-title inline-flex items-center justify-center",children:[(0,l.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"视频解析下载工具"}),(0,l.jsxs)("div",{className:"absolute -top-2 -right-6 flex space-x-1",children:[(0,l.jsx)("span",{className:"animate-ping absolute h-2 w-2 rounded-full bg-blue-400 opacity-75"}),(0,l.jsx)("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]})]}),(0,l.jsx)("p",{className:"text-blue-200/80 text-lg",children:"支持抖音、快手、微博等多平台视频在线解析"})]}),(0,l.jsxs)("div",{className:"tech-card p-6 mb-8",children:[(0,l.jsx)("form",{onSubmit:h,children:(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"url",className:"block text-blue-300 mb-2 font-medium",children:"输入视频链接"}),(0,l.jsxs)("div",{className:"flex relative",children:[(0,l.jsx)("input",{type:"text",id:"url",className:"w-full form-input pr-12 pl-4 py-3 rounded-lg",placeholder:"请粘贴视频分享链接",value:e,onChange:e=>t(e.target.value)}),(0,l.jsx)("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 bg-blue-600 hover:bg-blue-500 text-white px-4 rounded-r-lg transition-all duration-200 flex items-center gap-2 font-medium",disabled:s,children:s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:"解析中"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,l.jsx)("span",{children:"解析"})]})})]})]})}),o&&(0,l.jsxs)("div",{className:"alert alert-error mt-4 flex items-center gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("p",{children:o})]}),d&&(0,l.jsx)(n,{videoUrl:d.url})]}),(0,l.jsxs)("div",{className:"tech-card p-6 relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full -translate-y-1/2 translate-x-1/2 filter blur-xl"}),(0,l.jsx)("h2",{className:"text-xl font-semibold mb-6 tech-title text-blue-200",children:"使用说明"}),(0,l.jsxs)("ol",{className:"list-decimal pl-5 space-y-3 text-blue-100/90 relative z-10",children:[(0,l.jsx)("li",{className:"transition-all duration-200 hover:text-white",children:"复制您想要解析的视频分享链接"}),(0,l.jsx)("li",{className:"transition-all duration-200 hover:text-white",children:'粘贴到输入框中，点击"解析"'}),(0,l.jsx)("li",{className:"transition-all duration-200 hover:text-white",children:"解析成功后，可以在线观看或下载视频"})]}),(0,l.jsxs)("div",{className:"mt-8 border-t border-blue-500/20 pt-4 text-xs text-blue-300/60 flex justify-between",children:[(0,l.jsx)("div",{children:"版本 1.0.0"}),(0,l.jsxs)("div",{children:["更新日期: ",new Date().toLocaleDateString()]})]})]})]})})}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=3226)}),_N_E=e.O()}]);